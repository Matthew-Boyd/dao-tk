{% extends "base.html" %}
{% load static %}

{% block head %}
{% endblock %}

{% block content %}
<script>
    
</script>

<h1>Dashboard</h1>

<div class="info-unit">
    <h2> Performance Summary</h2>

    {% for summary_item in dashboard_summary_items %}
        <a href="?sumchart={{ summary_item.varname }}" style="text-decoration: none;">
            <div class="summary-block {% if current_summary_plot == summary_item.varname %}selected{% endif %}" style="{% if forloop.last %}border-right-style: none;{% endif %}">
                <table>
                    <tr><td><img src="{% get_media_prefix %}{{ summary_item.icon }}" height="48px" alt="{{summary_item.icon}}"></td></tr>
                    <tr><td>
                        <div class="progress complete roundleft" style="width: {{ summary_item.bar_left_width }}px"></div>
                        <div class="progress {% if summary_item.exceeds_model %}lead{% else %}lag{% endif %}" style="width: {{ summary_item.bar_mid_width }}px"></div>
                        <div class="progress remain roundright" style="width: {{ summary_item.bar_right_width }}px"></div>
                    </td></tr>
                    <tr><td class="summary-numeric">{{ summary_item.actual|floatformat:1 }} {{ summary_item.units|safe }} ({% if summary_item.exceeds_model %}+{% endif %}{{ summary_item.difference|floatformat:1 }})</td></tr>
                    <tr><td class="summary-label">{{ summary_item.name|safe }}</td></tr>
                </table>
            </div>
        </a>
    {% endfor %}
    
    <form style="text-align: left; padding-top: 20px; padding-left: 50px;">
        <input type="date" name="psd" onchange='this.form.submit()' value="{{ timeseries_plot_start }}">
        <noscript><input type="submit" value="Submit"></noscript>
    </form>        
    {{ timeseries_plot|safe }}
</div>


{% endblock %}