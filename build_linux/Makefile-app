export PATH := $(HOME)/local/wx-3.1.0/bin/:$(PATH)

HOME =..
VPATH =$(HOME)/app

WEXDIR=$(HOME)/../wex
LKDIR=$(HOME)/../lk
SSCDIR=$(HOME)/../ssc
JSONDIR = $(HOME)/rapidjson/include

WEXLIB = $(WEXDIR)/wexuxwx3.a
LKLIB = $(LKDIR)/lkuxwx3.a

CC = gcc
CXX = g++
WARNINGS=-Wall -Wno-unknown-pragmas #-Werror
CFLAGS =  -g -O0 -I. -I$(JSONDIR) -I$(WEXDIR)/include -I$(LKDIR)/include -I$(SSCDIR) -I$(HOME)/libsolar -I$(HOME)/liboptical -I$(HOME)/libcluster -DLK_USE_WXWIDGETS `wx-config-3 --cflags` $(WARNINGS)
LDFLAGS = -std=c++0x -no-pie -I.. ./ssc.so $(WEXLIB) $(LKLIB) liboptical.a libsolar.a libcluster.a `wx-config-3 --libs stc` `wx-config-3 --libs aui` `wx-config-3 --libs` -lm  -lfontconfig -ldl -lcurl 
CXXFLAGS=-std=c++0x $(CFLAGS)


OBJECTS  = \
	daotk_app.o \
	dataview.o \
	treeselect.o \
	logview.o \
	project_init.o \
	project.o \
	scripting.o \
	scriptview.o \
	scriptlist.o

TARGET = dao-tk

$(TARGET): $(OBJECTS) $(WEXLIB) 
	$(CXX) -g -o $@ $^ $(LDFLAGS)
	
clean:
	rm -f $(TARGET) $(OBJECTS)
